# +----------------------------------------------------------------------------------------------+
# |                                      Essential Settings                                      |
# |                                                                                              |
# | These settings are general settings that help control basic functionality for GTS. How these |
# | settings are configured will determine exactly how the plugin works.                         |
# +----------------------------------------------------------------------------------------------+

# Specifies whether or not GTS is running in multi-server mode. Multi-Server mode will require
# a storage method that allows for external data storing. If an incorrect storage provider option
# is provided, GTS will not start.
#
# Alongside this, if you wish to have GTS run on a single-server setup, then it'll accept any
# database option. Note that simply using MySQL as your storage provider will not provide GTS
# with the ability to accurately use cross-server methods.
#
# To use multi-server mode, select true here. Otherwise, use false for single-server mode
multi-server = false

# Specifies the language to use for GTS.
#
# NOTE: If a language file doesn't exist for your language, edit the language file generated by the
# plugin to meet your language. GTS aims to ship all kinds of languages, but as the developer
# is only prominent in English, he needs some help providing these language options! If you find
# your language option was not available, consider writing up your own and sending it to the GTS
# development team to ship with future releases!
language = "en_us"

# Specifies we want GTS to output debug information regarding operations within the plugin.
#
# You really only want to turn this one if you want in depth information regarding transactions,
# as well as perhaps to diagnose an issue with the plugin.
debug = false

# +----------------------------------------------------------------------------------------------+
# |                                       Storage Settings                                       |
# +----------------------------------------------------------------------------------------------+

# How the plugin should store data
#
# - The various options are explained in more detail on the wiki:
#   https://github.com/lucko/LuckPerms/wiki/Choosing-a-Storage-type
#
# - Possible options:
#
#   |  Remote databases - require connection information to be configured below
#   |=> MySQL
#   |=> MariaDB (preferred over MySQL)
#   |=> PostgreSQL
#
#   |  Local databases - Databases which exist only locally
#   |=> H2 (Default)
#
#   |  Readable & editable text files - don't require any extra configuration
#   |=> JSON (.json files)
#
# - The JSON flatfile provider is the default option.
storage-method = "H2"

# The following configuration block is used to define the connection paramters for
# your selected storage provider.
#
# NOTE: These settings are only neccessary when using remote databases. JSON and other
# local storage providers require no connection information. If you are using a local
# storage provider option, you can ignore this section
data {

    # Defines the address and port for the database
    # - The standard DB engine port is used by default
    #   (MySQL = 3306, PostgreSQL = 5432)
    # - Specify as "host:port" if you use a different port
    address = "localhost"

    # Specifies the name of the database to store GTS data in.
    # - This database must already be created. GTS will make no attempt to create the database
    #   for you.
    database = "minecraft"

    # Connection credentials for the database
    username = "root"
    password = ""

    # These settings apply to the MySQL/MariaDB connection pool.
    # - The default values will typically be suitable for the majority of users.
    # - Do not change these settings unless you know what you're doing!
    pool-settings {

        # Sets the maximum size of the MySQL/MariaDB connection pool.
        # - Basically, this value will determine the maximum number of actual
        # connections to the database backend.
        # - More information about determining the size of connection pools can be found here:
        #   https://github.com/brettwooldridge/HikariCP/wiki/About-Pool-Sizing
        maximum-pool-size = 10

        # Sets the minimum number of idle connections that the pool will try to maintain.
        # - For maximum performance and responsiveness to spike demands, it is recommended to not set
        #   this value and instead allow the pool to act as a fixed size connection pool.
        #   (set this value to the same as 'maximum-pool-size')
        minimum-idle = 10

        # This setting controls the maximum lifetime of a connection in the pool in milliseconds.
        # - The value should be at least 30 seconds less than any database or infrastructure imposed
        #   connection time limit.
        maximum-lifetime = 1800000 # 30 minutes

        # This setting controls the maximum number of milliseconds that the plugin will wait for a
        # connection from the pool, before timing out.
        connection-timeout = 5000 # 5 seconds

        # This setting allows you to define extra properties for connections.
        properties {
            useUnicode = true
            characterEncoding = "utf8"
        }
    }
}

# The prefix for all GTS SQL tables.
# - Change this if you want to use different tables for different servers
table-prefix = "gts_"

# +----------------------------------------------------------------------------------------------+ #
# |                                      Messaging Service                                       | #
# |                                                                                              | #
# | These settings control the ways in which GTS will sync data and notify other servers of      | #
# | changes.                                                                                     | #
# +----------------------------------------------------------------------------------------------+ #

# Define which messaging service should be used by the plugin.
#
# - If enabled and configured, GTS will use the messaging service to inform other connected
#   servers of changes.
# - Data is NOT stored using this service. It is only used as a messaging platform.
#
# - If you decide to enable this feature, you should set "sync-minutes" to -1, as there is no need
#   for LuckPerms to poll the database for changes.
#
# - Possible options:
#   => pluginmsg Uses the plugin messaging channels to communicate with the proxy.
#                LuckPerms must be installed on your proxy & all connected servers backend servers.
#                Won't work if you have more than one proxy.
#   => redis     Uses Redis pub-sub to push changes. Your server connection info must be configured
#                below.
#   => none      Disables the service. This will trigger GTS into single server mode, even when
#                the multi-server setting is enabled
messaging-service = "none"

# Settings for Redis
# - Port 6379 is the default port used by Redis.
# - If you wish to use a different port, set address to the following format: "host:port"
redis {
    enabled = false
    address = "localhost"
    password = ""
}

# +----------------------------------------------------------------------------------------------+ #
# |                                     Discord Logging                                          | #
# |                                                                                              | #
# | These settings will specify how GTS will log its actions to Discord.                         | #
# +----------------------------------------------------------------------------------------------+ #

# The below data block is specific to discord logging actions. This is only neccessary to configure
# if you wish for GTS to freely log data to Discord
discord {

    # States whether or not GTS will attempt to log to Discord
    # - Use "true" to enable this feature
    enabled = false

    # Specifies the avatar the GTS discord webhook will display when GTS writes out a log to
    # the configured webhook locations
    #
    # This should be a link to an image hosted somewhere, whether its from your server or
    # another location.
    #
    # IMPORTANT: Specify your link in quotes, otherwise, the configuration will fail to load
    avatar = "https://cdn.bulbagarden.net/upload/thumb/f/f5/399Bidoof.png/600px-399Bidoof.png"

    # Specifies the title that'll be used for the incoming message from GTS. This acts as the name
    # of the bot, as a means to easily distinguish between what is being encountered.
    title = "GTS Logging"

    # Defines the types of webhooks GTS will attempt to publish to the configured hooks. Each
    # logging action contains a different set of paramters, such as color, descriptor,
    # and webhook locations.
    #
    # Color must be specified based on the proper hex value. To learn more about figuring out
    # how to format custom colors, use this link:
    # - https://www.google.com/search?q=color+picker
    #
    # The descriptor is simply the token that denotes what type of log this outgoing log is.
    # This is namely helpful for understanding log history
    #
    # Finally, there are the webhooks that you may configure per option. Each option allows
    # you to specify a set of webhooks for that action to be logged to.
    #
    # IMPORTANT: Specify your links in quotes, otherwise, the configuration will fail to load
    links {
        new-bin-listing {
            color = "#00FF00"
            descriptor = "New \"Buy it Now\" Listing Published"
            hooks = []
        }
        new-auction-listing {
            color = "#66CCFF"
            descriptor = "New Auction Published"
            hooks = []
        }
        purchase {
            color = "#FFFF00"
            descriptor = "Listing Purchased"
            hooks = []
        }
        bid {
            color = "#FF9933"
            descriptor = "Bid Posted"
            hooks = []
        }
        remove {
            color = "#FF0000"
            descriptor = "Listing Removed"
            hooks = []
        }
        claim {
            color = "#FF0000"
            descriptor = "Item Claim Processed"
            hooks = []
        }
    }
}

# +----------------------------------------------------------------------------------------------+ #
# |                                   Listing Management                                         | #
# |                                                                                              | #
# | These settings will specify how GTS should process Listings.                                 | #
# +----------------------------------------------------------------------------------------------+ #

# This section controls what is blacklist enforced by GTS. Items in the blacklist cannot be sold
# on the GTS whatsoever. However, admins can bypass the blacklist restrictions. To establish a blacklist
# option, you must first create a section, if it encompasses a custom extension. For instance, when using
# an extension plugin, you'll want to use the extension's registry ID as the key to your section.
# From there, GTS will be able to filter exactly what you're requesting to be blacklisted.
#
# NOTE: All blacklisted entries should be placed within quotes
blacklist {
    items = [
        "minecraft:air",
        "minecraft:bedrock"
    ]
}

# Specifies the number of listings a player can place on the GTS at one time.
#
# This number applies to all users, regardless of rank. This is to ensure nobody uses
# GTS in a play-to-win manner. GTS is meant to be a plugin that is fair for all users
max-listings-per-user = 5

# The below options control time management of listings.
#
# |=> listing-min-time - Specifies the minimum amount of time a user can list a listing for
# |=> listing-max-time - Specifies the maximum amount of time a user can list a listing for
#
# Times should be input in a set of seconds, or you can use the typical date pattern:
# Examples of this pattern: 1d12h30m20s = 1 day, 12 hours, 30 minutes, and 20 seconds
listing-min-time = "15m"
listing-max-time = "7d"

# The below options control allowable user-input for the times of their listings.
# A user is permitted 6 options, in which 5 are predefined times provided by the
# below options:
#
# |=> listing-time-lowest - The lowest time predefined time setting
# |=> listing-time-low -
# |=> listing-time-mid
# |=> listing-time-high
# |=> listing-time-highest
#
# The 6th option allows for custom input, which requires that the user input a time
# within the controlled limits defined above.
listing-time-lowest = "2h"
listing-time-low = "6h"
listing-time-mid = "12h"
listing-time-high = "24h"
listing-time-highest = "2d"

# The below section refers to BIN specifics
buyitnow {

    # Whether GTS will allow for BIN listings to take place at all
    #
    # Important Note: If you disable both BIN and auctions, GTS will override this particular setting
    # and force BINs to be enabled. GTS must at least allow for one of them.
    enabled = true

}

# The below section refers to auction specifics.
auctions {

    # Whether GTS will allow for auctions to take place at all
    enabled = true

    # Specifies the rate at which auctions will increment with every additional bid.
    # Essentially, for each new bid, the user placing the bid must pay the current price,
    # times the rate which is specified here. This rate is a percentage value, as a means
    # to help gradually increase required bids the higher the price achieves. Increments are
    # ignored for the first bid, as auctions simply require the user to place a bid initially.
    # However, past that point, any new bid will have to meet this configured rate * the current price
    #
    # The default value is 0.03, which is equal to 3%
    increment-rate = 0.03

    # This option allows a user to cancel an auction that has bids placed on it already.
    #
    # NOTE: Admins will be able to bypass this setting, assuming they have the permission: gts.admin.bypass
    allow-cancel-with-bids = false

    # The below section is meant to block players from bid-sniping, by extending the duration of the auction
    bid-sniping {

            # Whether GTS should extend the duration of an auction if a player
            # tries to bid on an auction when the time is below minimum-time
    		enabled = true

    		# The minimum time required by the anti bid-sniping logic to activate
    		minimum-time = 30s

    		# The auction's expiry time will be set to this value when a player triggers the anti bid-sniping logic
    		set-time = 1m
    	}
}

# The following options control basic pricing options. It's up to further extensions to apply
# additional settings per its available types, but this should allow for rather generic
# pricing limits and controls.
pricing {

    # Specifies whether price controls should be put in place where available. In other words,
    # these settings are built around the idea of forcing a user to specify a monetary value within
    # a set limit.
    #
    # The below settings are simply standard settings. An entry that supports further controls
    # can override the below settings, but can never be lower or higher than the defined min and max.
    #
    # NOTE: This section only applies to monetary price values.
    control {

        # If we should apply price controls.
        enabled = true

        # Specifies the minimum amount of money a listing must be listed for to be acceptable
        min-price = 1

        # Specifies the maximum amount of money a listing can be listed for to be acceptable
        max-price = 10000000

    }

    # This section controls whether or not taxes will be applied to users as they list their listings.
    # GTS applies a tax, or rather, a fee, for listing something on its market. This fee is based on the
    # amount of money they list it for, assuming it's a monetary price. If the user lists something that is
    # not monetary, no tax will be applied. With money, the tax system is meant to help control the economy,
    # whereas other price types may provide just trade routes.
    fees {

        # Whether or not taxes should be enabled
        enabled = false

        # Fees applied to pricing of a listing
        starting-price {
            # The percentage rate at which we should apply fees to the input price
            # for Buy it Now listings
            #
            # Example: 0.5 = 50%
            # As such, the default 0.02 = 2%
            bin-rate = 0.02

            # The percentage rate at which we should apply fees to the starting bid
            # for auctions
            #
            # Example: 0.5 = 50%
            # As such, the default 0.02 = 2%
            auction-rate = 0.05

        }

        # Fees applied to the time allocated to a listing
        time {
            # The equation that is used to evaluate the fee that'll be paid for time selection.
            #
            # Note: Hours and Minutes are your variables here, please do not rename them
            equation = "f(hours,minutes) = 5 * (hours - 1 + (minutes > 0)) + 50"
        }
    }

}

# +----------------------------------------------------------------------------------------------+ #
# |                                   Item Based Listings                                        | #
# |                                                                                              | #
# | These settings will specify how GTS should process item based listings.                      | #
# +----------------------------------------------------------------------------------------------+ #

# This setting controls whether GTS will process and allow items being listed that have been
# renamed via an anvil.
#
# These rules only apply when this setting is set to false.
allow-anvil-names = true

# Whether or not items should be enabled for potential listing on the market.
#
# If this is disabled, and no extension provides an additional option, the plugin will launch into
# safe mode as it will have virtually no functional use.
#
# If you wish to disable listing everything intentionally, make use of the maintanence feature instead!
allow-items = true

# +----------------------------------------------------------------------------------------------+ #
# |                             Placeholder Modifications                                        | #
# |                                                                                              | #
# | These settings will allow you to control how certain placeholders format their resulting     | #
# | output.                                                                                      | #
# +----------------------------------------------------------------------------------------------+ #

# For placeholders that allow showing a user's prefix, should that placeholder supply the prefix?
should-show-user-prefix = true